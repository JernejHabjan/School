<!DOCTYPE html>
<!-- saved from url=(0156)http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb# -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    

    <title>Image Classification with DIGITS - Improving Performance</title>
    <link rel="shortcut icon" type="image/x-icon" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/static/base/images/favicon.ico?v=97c6417ed01bdc0ae3ef32ae4894fd03">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="./Image Classification with DIGITS - Improving Performance_files/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="./Image Classification with DIGITS - Improving Performance_files/jquery.typeahead.min.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    


<script type="text/javascript" src="./Image Classification with DIGITS - Improving Performance_files/MathJax.js.download" charset="utf-8"></script>

<script type="text/javascript">
// MathJax disabled, set as null to distingish from *missing* MathJax,
// where it will be undefined, and should prompt a dialog later.
window.mathjax_url = "/TFhX2qPWC5/static/components/MathJax/MathJax.js";
</script>

<link rel="stylesheet" href="./Image Classification with DIGITS - Improving Performance_files/bootstrap-tour.min.css" type="text/css">
<link rel="stylesheet" href="./Image Classification with DIGITS - Improving Performance_files/codemirror.css">


    <link rel="stylesheet" href="./Image Classification with DIGITS - Improving Performance_files/style.min.css" type="text/css">
    

<link rel="stylesheet" href="./Image Classification with DIGITS - Improving Performance_files/override.css" type="text/css">
<link rel="stylesheet" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb" id="kernel-css" type="text/css">


    <link rel="stylesheet" href="./Image Classification with DIGITS - Improving Performance_files/custom.css" type="text/css">
    <script src="./Image Classification with DIGITS - Improving Performance_files/promise.min.js.download" type="text/javascript" charset="utf-8"></script>
    <script src="./Image Classification with DIGITS - Improving Performance_files/index.js.download" type="text/javascript"></script>
    <script src="./Image Classification with DIGITS - Improving Performance_files/index.js(1).download" type="text/javascript"></script>
    <script src="./Image Classification with DIGITS - Improving Performance_files/index.js(2).download" type="text/javascript"></script>
    <script src="./Image Classification with DIGITS - Improving Performance_files/require.js.download" type="text/javascript" charset="utf-8"></script>
    <script>
      require.config({
          
          urlArgs: "v=20180108092544",
          
          baseUrl: '/TFhX2qPWC5/static/',
          paths: {
            'auth/js/main': 'auth/js/main.min',
            custom : '/TFhX2qPWC5/custom',
            nbextensions : '/TFhX2qPWC5/nbextensions',
            kernelspecs : '/TFhX2qPWC5/kernelspecs',
            underscore : 'components/underscore/underscore-min',
            backbone : 'components/backbone/backbone-min',
            jquery: 'components/jquery/jquery.min',
            bootstrap: 'components/bootstrap/js/bootstrap.min',
            bootstraptour: 'components/bootstrap-tour/build/js/bootstrap-tour.min',
            'jquery-ui': 'components/jquery-ui/ui/minified/jquery-ui.min',
            moment: 'components/moment/moment',
            codemirror: 'components/codemirror',
            termjs: 'components/xterm.js/dist/xterm',
            typeahead: 'components/jquery-typeahead/dist/jquery.typeahead.min',
          },
          map: { // for backward compatibility
              "*": {
                  "jqueryui": "jquery-ui",
              }
          },
          shim: {
            typeahead: {
              deps: ["jquery"],
              exports: "typeahead"
            },
            underscore: {
              exports: '_'
            },
            backbone: {
              deps: ["underscore", "jquery"],
              exports: "Backbone"
            },
            bootstrap: {
              deps: ["jquery"],
              exports: "bootstrap"
            },
            bootstraptour: {
              deps: ["bootstrap"],
              exports: "Tour"
            },
            "jquery-ui": {
              deps: ["jquery"],
              exports: "$"
            }
          },
          waitSeconds: 30,
      });

      require.config({
          map: {
              '*':{
                'contents': 'services/contents',
              }
          }
      });

      // error-catching custom.js shim.
      define("custom", function (require, exports, module) {
          try {
              var custom = require('custom/custom');
              console.debug('loaded custom.js');
              return custom;
          } catch (e) {
              console.error("error loading custom.js", e);
              return {};
          }
      })
    </script>

    
    

<script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="services/contents" src="./Image Classification with DIGITS - Improving Performance_files/contents.js.download"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="custom/custom" src="./Image Classification with DIGITS - Improving Performance_files/custom.js.download"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="nbextensions/widgets/notebook/js/extension" src="./Image Classification with DIGITS - Improving Performance_files/extension.js.download"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">div.MathJax_MathML {text-align: center; margin: .75em 0px; display: block!important}
.MathJax_MathML {font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
span.MathJax_MathML {display: inline!important}
.MathJax_mmlExBox {display: block!important; overflow: hidden; height: 1px; width: 60ex; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0}
[class="MJX-tex-oldstyle"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB}
[class="MJX-tex-oldstyle-bold"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB; font-weight: bold}
[class="MJX-tex-caligraphic"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB}
[class="MJX-tex-caligraphic-bold"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB; font-weight: bold}
@font-face /*1*/ {font-family: MathJax_Caligraphic-WEB; src: url('http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/static/components/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf')}
@font-face /*2*/ {font-family: MathJax_Caligraphic-WEB; font-weight: bold; src: url('http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/static/components/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf')}
[mathvariant="double-struck"] {font-family: MathJax_AMS, MathJax_AMS-WEB}
[mathvariant="script"] {font-family: MathJax_Script, MathJax_Script-WEB}
[mathvariant="fraktur"] {font-family: MathJax_Fraktur, MathJax_Fraktur-WEB}
[mathvariant="bold-script"] {font-family: MathJax_Script, MathJax_Caligraphic-WEB; font-weight: bold}
[mathvariant="bold-fraktur"] {font-family: MathJax_Fraktur, MathJax_Fraktur-WEB; font-weight: bold}
[mathvariant="monospace"] {font-family: monospace}
[mathvariant="sans-serif"] {font-family: sans-serif}
[mathvariant="bold-sans-serif"] {font-family: sans-serif; font-weight: bold}
[mathvariant="sans-serif-italic"] {font-family: sans-serif; font-style: italic}
[mathvariant="sans-serif-bold-italic"] {font-family: sans-serif; font-style: italic; font-weight: bold}
@font-face /*3*/ {font-family: MathJax_AMS-WEB; src: url('http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/static/components/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf')}
@font-face /*4*/ {font-family: MathJax_Script-WEB; src: url('http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/static/components/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf')}
@font-face /*5*/ {font-family: MathJax_Fraktur-WEB; src: url('http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/static/components/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf')}
@font-face /*6*/ {font-family: MathJax_Fraktur-WEB; font-weight: bold; src: url('http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/static/components/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf')}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 0; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Blank; src: url('about:blank')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><link id="favicon" type="image/x-icon" rel="shortcut icon" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/static/base/images/favicon.ico"></head>

<body class="notebook_app  command_mode ctb_global_show" data-base-url="/TFhX2qPWC5/" data-ws-url="" data-notebook-name="Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb" data-notebook-path="Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb" dir="ltr" style=""><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div>

<noscript>
    &lt;div id='noscript'&gt;
      Jupyter Notebook requires JavaScript.&lt;br&gt;
      Please enable it to proceed.
  &lt;/div&gt;
</noscript>

<div id="header" style="display: block;">
  <div id="header-container" class="container">
  <div id="ipython_notebook" class="nav navbar-brand pull-left"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/tree" title="dashboard"><img src="./Image Classification with DIGITS - Improving Performance_files/logo.png" alt="Jupyter Notebook"></a></div>

  
  
  

    <span id="login_widget">
      
    </span>

  

  

  


<span id="save_widget" class="pull-left save_widget">
    <span id="notebook_name" class="filename">Image Classification with DIGITS - Improving Performance</span>
    <span class="checkpoint_status" title="Mon, Jan 8, 2018 10:52 AM">Last Checkpoint: 4 hours ago</span>
    <span class="autosave_status">(autosaved)</span>
</span>

<span id="kernel_logo_widget">
  
  <img class="current_kernel_logo" src="./Image Classification with DIGITS - Improving Performance_files/logo-64x64.png" title="Python 2" style="display: inline;">
  
</span>


  </div>
  <div class="header-bar"></div>

  
<div id="menubar-container" class="container">
<div id="menubar">
    <div id="menus" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <button type="button" class="btn btn-default navbar-btn navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <i class="fa fa-bars"></i>
              <span class="navbar-text">Menu</span>
            </button>
            <p id="kernel_indicator" class="navbar-text indicator_area">
              <span class="kernel_indicator_name">Python 2</span>
              <i id="kernel_indicator_icon" class="kernel_disconnected_icon" title="No Connection to Kernel"></i>
            </p>
            <i id="readonly-indicator" class="navbar-text" title="This notebook is read-only" style="display: none;">
                <span class="fa-stack">
                    <i class="fa fa-save fa-stack-1x"></i>
                    <i class="fa fa-ban fa-stack-2x text-danger"></i>
                </span>
            </i>
            <i id="modal_indicator" class="navbar-text modal_indicator" title="Command Mode"></i>
            <span id="notification_area"><div id="notification_kernel" class="notification_widget btn btn-xs navbar-btn undefined danger" style="display: inline-block;"><span title="click to reconnect">Not Connected</span></div><div id="notification_notebook" class="notification_widget btn btn-xs navbar-btn" style="display: none;"><span></span></div><div id="notification_trusted" class="notification_widget btn btn-xs navbar-btn" style="display: inline-block;"><span>Trusted</span></div></span>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                <li class="dropdown"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">File</a>
                    <ul id="file_menu" class="dropdown-menu">
                        <li id="new_notebook" class="dropdown-submenu">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">New Notebook</a>
                            <ul class="dropdown-menu" id="menu-new-notebook-submenu"><li id="new-notebook-submenu-python2"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Python 2</a></li></ul>
                        </li>
                        <li id="open_notebook" title="Opens a new window with the Dashboard view">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Open...</a></li>
                        <!-- <hr/> -->
                        <li class="divider"></li>
                        <li id="copy_notebook" title="Open a copy of this notebook&#39;s contents and start a new kernel">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Make a Copy...</a></li>
                        <li id="rename_notebook"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Rename...</a></li>
                        <li id="save_checkpoint"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Save and Checkpoint</a></li>
                        <!-- <hr/> -->
                        <li class="divider"></li>
                        <li id="restore_checkpoint" class="dropdown-submenu"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Revert to Checkpoint</a>
                          <ul class="dropdown-menu"><li><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Monday, January 8, 2018 10:52 AM</a></li></ul>
                        </li>
                        <li class="divider"></li>
                        <li id="print_preview"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Print Preview</a></li>
                        <li class="dropdown-submenu"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Download as</a>
                            <ul id="download_menu" class="dropdown-menu">
                                <li id="download_ipynb"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Notebook (.ipynb)</a></li>
                                <li id="download_script"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Python (.py)</a></li>
                                <li id="download_html"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">HTML (.html)</a></li>
                                <li id="download_markdown"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Markdown (.md)</a></li>
                                <li id="download_rst"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">reST (.rst)</a></li>
                                <li id="download_latex"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">LaTeX (.tex)</a></li>
                                <li id="download_pdf"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">PDF via LaTeX (.pdf)</a></li>
                            </ul>
                        </li>
                        <li class="dropdown-submenu hidden"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Deploy as</a>
                            <ul id="deploy_menu" class="dropdown-menu"></ul>
                        </li>
                        <li class="divider"></li>
                        <li id="trust_notebook" title="Trust the output of this notebook" class="disabled">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Trusted Notebook</a></li>
                        <li class="divider"></li>
                        <li id="kill_and_exit" title="Shutdown this notebook&#39;s kernel, and close this window">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Close and Halt</a></li>
                    </ul>
                </li>
                <li class="dropdown"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#" class="dropdown-toggle" data-toggle="dropdown">Edit</a>
                    <ul id="edit_menu" class="dropdown-menu">
                        <li id="cut_cell"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Cut Cells</a></li>
                        <li id="copy_cell"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Copy Cells</a></li>
                        <li id="paste_cell_above" class="disabled"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Paste Cells Above</a></li>
                        <li id="paste_cell_below" class="disabled"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Paste Cells Below</a></li>
                        <li id="paste_cell_replace" class="disabled"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Paste Cells &amp; Replace</a></li>
                        <li id="delete_cell"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Delete Cells</a></li>
                        <li id="undelete_cell" class="disabled"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Undo Delete Cells</a></li>
                        <li class="divider"></li>
                        <li id="split_cell"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Split Cell</a></li>
                        <li id="merge_cell_above"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Merge Cell Above</a></li>
                        <li id="merge_cell_below"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Merge Cell Below</a></li>
                        <li class="divider"></li>
                        <li id="move_cell_up"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Move Cell Up</a></li>
                        <li id="move_cell_down"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Move Cell Down</a></li>
                        <li class="divider"></li>
                        <li id="edit_nb_metadata"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Edit Notebook Metadata</a></li>
                        <li class="divider"></li>
                        <li id="find_and_replace"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#"> Find and Replace </a></li>
                        <li class="divider"></li>
                        <li id="cut_cell_attachments"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Cut Cell Attachments</a></li>
                        <li id="copy_cell_attachments"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Copy Cell Attachments</a></li>
                        <li id="paste_cell_attachments" class="disabled"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Paste Cell Attachments</a></li>
                        <li class="divider"></li>
                        <li id="insert_image" class="disabled"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#"> Insert Image </a></li>
                    </ul>
                </li>
                <li class="dropdown"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#" class="dropdown-toggle" data-toggle="dropdown">View</a>
                    <ul id="view_menu" class="dropdown-menu">
                        <li id="toggle_header" title="Show/Hide the logo and notebook title (above menu bar)">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Toggle Header</a>
                        </li>
                        <li id="toggle_toolbar" title="Show/Hide the action icons (below menu bar)">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Toggle Toolbar</a>
                        </li>
                        <li id="toggle_line_numbers" title="Show/Hide line numbers in cells">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Toggle Line Numbers</a>
                        </li>
                        <li id="menu-cell-toolbar" class="dropdown-submenu">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Cell Toolbar</a>
                            <ul class="dropdown-menu" id="menu-cell-toolbar-submenu"><li data-name="None"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">None</a></li><li data-name="Edit%20Metadata"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Edit Metadata</a></li><li data-name="Raw%20Cell%20Format"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Raw Cell Format</a></li><li data-name="Slideshow"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Slideshow</a></li><li data-name="Attachments"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Attachments</a></li><li data-name="Tags"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Tags</a></li></ul>
                        </li>
                    </ul>
                </li>
                <li class="dropdown"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#" class="dropdown-toggle" data-toggle="dropdown">Insert</a>
                    <ul id="insert_menu" class="dropdown-menu">
                        <li id="insert_cell_above" title="Insert an empty Code cell above the currently active cell">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Insert Cell Above</a></li>
                        <li id="insert_cell_below" title="Insert an empty Code cell below the currently active cell">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Insert Cell Below</a></li>
                    </ul>
                </li>
                <li class="dropdown"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#" class="dropdown-toggle" data-toggle="dropdown">Cell</a>
                    <ul id="cell_menu" class="dropdown-menu">
                        <li id="run_cell" title="Run this cell, and move cursor to the next one">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Run Cells</a></li>
                        <li id="run_cell_select_below" title="Run this cell, select below">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Run Cells and Select Below</a></li>
                        <li id="run_cell_insert_below" title="Run this cell, insert below">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Run Cells and Insert Below</a></li>
                        <li id="run_all_cells" title="Run all cells in the notebook">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Run All</a></li>
                        <li id="run_all_cells_above" title="Run all cells above (but not including) this cell">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Run All Above</a></li>
                        <li id="run_all_cells_below" title="Run this cell and all cells below it">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Run All Below</a></li>
                        <li class="divider"></li>
                        <li id="change_cell_type" class="dropdown-submenu" title="All cells in the notebook have a cell type. By default, new cells are created as &#39;Code&#39; cells">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Cell Type</a>
                            <ul class="dropdown-menu">
                              <li id="to_code" title="Contents will be sent to the kernel for execution, and output will display in the footer of cell">
                                  <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Code</a></li>
                              <li id="to_markdown" title="Contents will be rendered as HTML and serve as explanatory text">
                                  <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Markdown</a></li>
                              <li id="to_raw" title="Contents will pass through nbconvert unmodified">
                                  <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Raw NBConvert</a></li>
                            </ul>
                        </li>
                        <li class="divider"></li>
                        <li id="current_outputs" class="dropdown-submenu"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Current Outputs</a>
                            <ul class="dropdown-menu">
                                <li id="toggle_current_output" title="Hide/Show the output of the current cell">
                                    <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Toggle</a>
                                </li>
                                <li id="toggle_current_output_scroll" title="Scroll the output of the current cell">
                                    <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Toggle Scrolling</a>
                                </li>
                                <li id="clear_current_output" title="Clear the output of the current cell">
                                    <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Clear</a>
                                </li>
                            </ul>
                        </li>
                        <li id="all_outputs" class="dropdown-submenu"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">All Output</a>
                            <ul class="dropdown-menu">
                                <li id="toggle_all_output" title="Hide/Show the output of all cells">
                                    <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Toggle</a>
                                </li>
                                <li id="toggle_all_output_scroll" title="Scroll the output of all cells">
                                    <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Toggle Scrolling</a>
                                </li>
                                <li id="clear_all_output" title="Clear the output of all cells">
                                    <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Clear</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li class="dropdown"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#" class="dropdown-toggle" data-toggle="dropdown">Kernel</a>
                    <ul id="kernel_menu" class="dropdown-menu">
                        <li id="int_kernel" title="Send KeyboardInterrupt (CTRL-C) to the Kernel">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Interrupt</a>
                        </li>
                        <li id="restart_kernel" title="Restart the Kernel">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Restart</a>
                        </li>
                        <li id="restart_clear_output" title="Restart the Kernel and clear all output">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Restart &amp; Clear Output</a>
                        </li>
                        <li id="restart_run_all" title="Restart the Kernel and re-run the notebook">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Restart &amp; Run All</a>
                        </li>
                        <li id="reconnect_kernel" title="Reconnect to the Kernel">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Reconnect</a>
                        </li>
                        <li id="shutdown_kernel" title="Shutdown the Kernel">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Shutdown</a>
                        </li>
                        <li class="divider"></li>
                        <li id="menu-change-kernel" class="dropdown-submenu">
                            <a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Change kernel</a>
                            <ul class="dropdown-menu" id="menu-change-kernel-submenu"><li id="kernel-submenu-python2"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Python 2</a></li></ul>
                        </li>
                    </ul>
                </li>
                <li class="dropdown"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#" class="dropdown-toggle" data-toggle="dropdown">Help</a>
                    <ul id="help_menu" class="dropdown-menu">
                        
                        <li id="notebook_tour" title="A quick tour of the notebook user interface"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">User Interface Tour</a></li>
                        <li id="keyboard_shortcuts" title="Opens a dialog which shows all keyboard shortcuts"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Keyboard Shortcuts</a></li>
                        <li id="edit_keyboard_shortcuts" title="Opens a dialog allowing you to edit Keyboard shortcuts"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">Edit Keyboard Shortcuts</a></li>
                        <li class="divider"></li>
                        

                        
                            
                                <li><a rel="noreferrer" href="http://nbviewer.ipython.org/github/ipython/ipython/blob/3.x/examples/Notebook/Index.ipynb" target="_blank" title="Opens in a new window">
                                
                                    <i class="fa fa-external-link menu-icon pull-right"></i>
                                

                                Notebook Help
                                </a></li>
                            
                                <li><a rel="noreferrer" href="https://help.github.com/articles/markdown-basics/" target="_blank" title="Opens in a new window">
                                
                                    <i class="fa fa-external-link menu-icon pull-right"></i>
                                

                                Markdown
                                </a></li>
                            
                            
                        
                        <li id="kernel-help-links" class="divider"></li><li><a target="_blank" title="Opens in a new window" href="http://docs.python.org/2.7?v=20180108092544"><i class="fa fa-external-link menu-icon pull-right"></i><span>Python</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://ipython.org/documentation.html?v=20180108092544"><i class="fa fa-external-link menu-icon pull-right"></i><span>IPython</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://docs.scipy.org/doc/numpy/reference/?v=20180108092544"><i class="fa fa-external-link menu-icon pull-right"></i><span>NumPy</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://docs.scipy.org/doc/scipy/reference/?v=20180108092544"><i class="fa fa-external-link menu-icon pull-right"></i><span>SciPy</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://matplotlib.org/contents.html?v=20180108092544"><i class="fa fa-external-link menu-icon pull-right"></i><span>Matplotlib</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://docs.sympy.org/latest/index.html?v=20180108092544"><i class="fa fa-external-link menu-icon pull-right"></i><span>SymPy</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://pandas.pydata.org/pandas-docs/stable/?v=20180108092544"><i class="fa fa-external-link menu-icon pull-right"></i><span>pandas</span></a></li><li class="divider"></li>
                        <li title="About Jupyter Notebook"><a id="notebook_about" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#">About</a></li>
                        
                    </ul>
                </li>
              </ul>
            </div>
        </div>
    </div>
</div>

<div id="maintoolbar" class="navbar">
  <div class="toolbar-inner navbar-inner navbar-nobg">
    <div id="maintoolbar-container" class="container toolbar"><div class="btn-group" id="save-notbook"><button class="btn btn-default" title="Save and Checkpoint" data-jupyter-action="jupyter-notebook:save-notebook"><i class="fa-save fa"></i></button></div><div class="btn-group" id="insert_above_below"><button class="btn btn-default" title="insert cell below" data-jupyter-action="jupyter-notebook:insert-cell-below"><i class="fa-plus fa"></i></button></div><div class="btn-group" id="cut_copy_paste"><button class="btn btn-default" title="cut selected cells" data-jupyter-action="jupyter-notebook:cut-cell"><i class="fa-cut fa"></i></button><button class="btn btn-default" title="copy selected cells" data-jupyter-action="jupyter-notebook:copy-cell"><i class="fa-copy fa"></i></button><button class="btn btn-default" title="paste cells below" data-jupyter-action="jupyter-notebook:paste-cell-below"><i class="fa-paste fa"></i></button></div><div class="btn-group" id="move_up_down"><button class="btn btn-default" title="move selected cells up" data-jupyter-action="jupyter-notebook:move-cell-up"><i class="fa-arrow-up fa"></i></button><button class="btn btn-default" title="move selected cells down" data-jupyter-action="jupyter-notebook:move-cell-down"><i class="fa-arrow-down fa"></i></button></div><div class="btn-group" id="run_int"><button class="btn btn-default" title="run cell, select below" data-jupyter-action="jupyter-notebook:run-cell-and-select-next"><i class="fa-step-forward fa"></i></button><button class="btn btn-default" title="interrupt kernel" data-jupyter-action="jupyter-notebook:interrupt-kernel"><i class="fa-stop fa"></i></button><button class="btn btn-default" title="restart the kernel (with dialog)" data-jupyter-action="jupyter-notebook:confirm-restart-kernel"><i class="fa-repeat fa"></i></button></div><select id="cell_type" class="form-control select-xs"><option value="code">Code</option><option value="markdown">Markdown</option><option value="raw">Raw NBConvert</option><option value="heading">Heading</option><option value="multiselect" disabled="disabled" style="display: none;">-</option></select><div class="btn-group"><button class="btn btn-default" title="open the command palette" data-jupyter-action="jupyter-notebook:show-command-palette"><i class="fa-keyboard-o fa"></i></button></div></div>
  </div>
</div>
</div>

<div class="lower-header-bar"></div>

</div>

<div id="site" style="height: 469px; display: block;">


<div id="ipython-main-app">
    <div id="notebook_panel">
        <div id="notebook" tabindex="-1"><div class="container" id="notebook-container"><div class="cell text_cell rendered unselected" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 45px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 16.3333px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"</span><span class="cm-string cm-link">https://www.nvidia.com/en-us/deep-learning-ai/education/</span><span class="cm-string">"</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">img</span> <span class="cm-attribute">src</span>=<span class="cm-string">"files/DLI Header.png"</span> <span class="cm-attribute">alt</span>=<span class="cm-string">"Header"</span> <span class="cm-attribute">style</span>=<span class="cm-string">"width: 400px;"</span><span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p><a href="https://www.nvidia.com/en-us/deep-learning-ai/education/" target="_blank"> <img src="./Image Classification with DIGITS - Improving Performance_files/DLI Header.png" alt="Header" style="width: 400px"> </a></p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 33px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 21.3333px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-header cm-header-1"># Improving your Model</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 33px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h1 id="Improving-your-Model">Improving your Model<a class="anchor-link" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#Improving-your-Model">¶</a></h1>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 1865px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 16.3333px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Now that you've learned to successfully train a model, let's work to train a state of the art model. In this lab, we'll learn the levers that you, as a deep learning practitioner, will use to navigate towards desired results. In the process, we'll start to peel back the layers around the technology that makes this possible.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Let's bring back our handwritten digit classifier. Go to DIGITS' home screen by clicking the DIGITS logo on the top left of the screen. Here, you'll see (at least) two models. Choose the first model you created, in our case, "My first model."</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Among other things, DIGITS will display the graph that was generated as the model was being trained. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(graphfromfirsttraining.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Three quantities are reported: training loss, validation loss, and accuracy.  The values of training and validation loss should have decreased from epoch to epoch, although they may jump around some.  The accuracy is the measure of the ability of the model to correctly classify the validation data.  If you hover your mouse over any of the data points, you will see its exact value.  In this case, the accuracy at the last epoch is about 87%.  Your results might be slightly different than what is shown here, since the initial networks are generated randomly.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Analyzing this graph, one thing that jumps out is that accuracy is increasing over time and that loss is decreasing. A natural question may be, "will the model keep improving if we let it train longer?" This is the first intervention that we'll experiment with and discuss. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-header cm-header-2">## Study more</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Following the advice of parents and teachers everywhere, let's work to improve the accuracy of our model by asking it to study more. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">An <span class="cm-strong">**epoch**</span> is one complete presentation of the data to be learned to a learning machine. Let's make sense of what is happening during an <span class="cm-strong">**epoch.**</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">1. Neural networks take the first image (or small group of images) and make a prediction about what it is (or they are).</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">2. Their prediction is compared to the actual label of the image(s).</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">3. The network uses information about the difference between their prediction and the actual label to adjust itself.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">4. The network then takes the next image (or group of images) and make another prediction.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">5. This new (hopefully closer) prediction is compared to the actual label of the image(s).</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">6. The network uses information about the difference between this new prediction and the actual label to adjust again. </span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">7. This happens repeatedly until the network has looked at each image. </span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Compare this to a human study session using flash cards:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">1. A student looks at a first flashcard and makes a guess about what is on the other side.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">2. They check the other side to see how close they were.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">3. They adjust their understanding based on this new information.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">4. The student then looks at the next card and makes another prediction.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">5. This new (hopefully closer) prediction is compared to the answer on the back of the card.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">6. The student uses information about the difference between this new prediction and the right answer to adjust again.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">7. This happens repeatedly until the student has tried each flashcard once. </span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">You can see that one epoch can be compared to one trip through a deck of flashcards.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">In the model that we trained, we asked our network for 5 epochs. The blue curve on the graph above shows how far off each prediction was from the actual label.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Like a human student, the point of studying isn't just to be able to replicate someone else's knowledge. The green curve shows the difference between the model's predictions and actual labels for NEW data that it hasn't learned from. The orange curve is simple the inverse of that loss. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-strong">**Loss**</span> can be measured in many ways, but conceptually, it's simply the difference between predicted and actual labels.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">If after taking a test and earning 87%, a human student wanted to improve performance, they might be advised to study more. At this point, they'd go back to their flashcards. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">A deep learning practitioner could request more epochs. It <span class="cm-em">*is*</span> possible to start from scratch and request more epochs when creating your model for the first time. However, our model has already spent some time learning! Let's use what it has learned to improve our model instead of start from scratch.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Head back to DIGITS and scroll to the bottom of your model page and click the big green button labeled: "Make Pretrained Model."</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(pretrainedbutton.PNG)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">This will save two things:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">1. The "network architecture" that you chose when selecting "AlexNet."</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">2. What the model has "learned" in the form of the parameters that have been adjusted as your network worked through the data in the first 5 epochs.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">We can now create a new model from this starting point. Go back to DIGITS' home screen and create a new Image Classfication model like before. New Model (Images) -&gt; Classification </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">- Select the same dataset - (Default Options Small Dataset)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">- Choose some number of epochs between 3 and 8. (Note that in creating a model from scratch, this is where you could have requested more epochs originally.)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">- This time, instead of choosing a "Standard Network," select "Pretrained Networks." </span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">- Select the pretrained model that you just created, likely "My first model."</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">- Name your model - We chose "Study more"</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">- Click Create</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Your settings should look like:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(pretrainedmodelsetup.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">When you create the model, you'll get the following graph. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(pretrainedgraph.PNG)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Note the following:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">1. As expected, the accuracy starts close to where our first model left off, 86%.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">2. Accuracy DOES continue to increase, showing that increasing the number of epochs often does increase performance.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">3. The </span><span class="cm-em cm-variable-2">*rate*</span><span class="cm-variable-2"> of increase in accuracy slows down, showing that more trips through the same data can't be the only way to increase performance. </span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Let's test our new and improved model using the same image from before. At the bottom of our model page, "Test a single image." We'll test the same "2" to compare performance. As a reminder, the image path is:<span class="cm-trailing-space-a"> </span><span class="cm-trailing-space-new-line">&nbsp;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">code</span><span class="cm-tag cm-bracket">&gt;</span> /data/test_small/2/img_4415.png <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">code</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(classifyoneunlabeled.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Recall that our original model correctly identified this as a 2 as well, but with a confidence of 85%. This is clearly a better model.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Feel free to try a few more images by changing the number after "img<span class="cm-em">_ "</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 1865px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1878px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p>Now that you've learned to successfully train a model, let's work to train a state of the art model. In this lab, we'll learn the levers that you, as a deep learning practitioner, will use to navigate towards desired results. In the process, we'll start to peel back the layers around the technology that makes this possible.</p>
<p>Let's bring back our handwritten digit classifier. Go to DIGITS' home screen by clicking the DIGITS logo on the top left of the screen. Here, you'll see (at least) two models. Choose the first model you created, in our case, "My first model."</p>
<p>Among other things, DIGITS will display the graph that was generated as the model was being trained. </p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/graphfromfirsttraining.png" alt=""></p>
<p>Three quantities are reported: training loss, validation loss, and accuracy.  The values of training and validation loss should have decreased from epoch to epoch, although they may jump around some.  The accuracy is the measure of the ability of the model to correctly classify the validation data.  If you hover your mouse over any of the data points, you will see its exact value.  In this case, the accuracy at the last epoch is about 87%.  Your results might be slightly different than what is shown here, since the initial networks are generated randomly.</p>
<p>Analyzing this graph, one thing that jumps out is that accuracy is increasing over time and that loss is decreasing. A natural question may be, "will the model keep improving if we let it train longer?" This is the first intervention that we'll experiment with and discuss. </p>
<h2 id="Study-more">Study more<a class="anchor-link" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#Study-more">¶</a></h2>
<p>Following the advice of parents and teachers everywhere, let's work to improve the accuracy of our model by asking it to study more. </p>
<p>An <strong>epoch</strong> is one complete presentation of the data to be learned to a learning machine. Let's make sense of what is happening during an <strong>epoch.</strong></p>
<ol>
<li>Neural networks take the first image (or small group of images) and make a prediction about what it is (or they are).</li>
<li>Their prediction is compared to the actual label of the image(s).</li>
<li>The network uses information about the difference between their prediction and the actual label to adjust itself.</li>
<li>The network then takes the next image (or group of images) and make another prediction.</li>
<li>This new (hopefully closer) prediction is compared to the actual label of the image(s).</li>
<li>The network uses information about the difference between this new prediction and the actual label to adjust again. </li>
<li>This happens repeatedly until the network has looked at each image. </li>
</ol>
<p>Compare this to a human study session using flash cards:</p>
<ol>
<li>A student looks at a first flashcard and makes a guess about what is on the other side.</li>
<li>They check the other side to see how close they were.</li>
<li>They adjust their understanding based on this new information.</li>
<li>The student then looks at the next card and makes another prediction.</li>
<li>This new (hopefully closer) prediction is compared to the answer on the back of the card.</li>
<li>The student uses information about the difference between this new prediction and the right answer to adjust again.</li>
<li>This happens repeatedly until the student has tried each flashcard once. </li>
</ol>
<p>You can see that one epoch can be compared to one trip through a deck of flashcards.</p>
<p>In the model that we trained, we asked our network for 5 epochs. The blue curve on the graph above shows how far off each prediction was from the actual label.</p>
<p>Like a human student, the point of studying isn't just to be able to replicate someone else's knowledge. The green curve shows the difference between the model's predictions and actual labels for NEW data that it hasn't learned from. The orange curve is simple the inverse of that loss. </p>
<p><strong>Loss</strong> can be measured in many ways, but conceptually, it's simply the difference between predicted and actual labels.</p>
<p>If after taking a test and earning 87%, a human student wanted to improve performance, they might be advised to study more. At this point, they'd go back to their flashcards. </p>
<p>A deep learning practitioner could request more epochs. It <em>is</em> possible to start from scratch and request more epochs when creating your model for the first time. However, our model has already spent some time learning! Let's use what it has learned to improve our model instead of start from scratch.</p>
<p>Head back to DIGITS and scroll to the bottom of your model page and click the big green button labeled: "Make Pretrained Model."</p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/pretrainedbutton.PNG" alt=""></p>
<p>This will save two things:</p>
<ol>
<li>The "network architecture" that you chose when selecting "AlexNet."</li>
<li>What the model has "learned" in the form of the parameters that have been adjusted as your network worked through the data in the first 5 epochs.</li>
</ol>
<p>We can now create a new model from this starting point. Go back to DIGITS' home screen and create a new Image Classfication model like before. New Model (Images) -&gt; Classification </p>
<ul>
<li>Select the same dataset - (Default Options Small Dataset)</li>
<li>Choose some number of epochs between 3 and 8. (Note that in creating a model from scratch, this is where you could have requested more epochs originally.)</li>
<li>This time, instead of choosing a "Standard Network," select "Pretrained Networks." </li>
<li>Select the pretrained model that you just created, likely "My first model."</li>
<li>Name your model - We chose "Study more"</li>
<li>Click Create</li>
</ul>
<p>Your settings should look like:</p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/pretrainedmodelsetup.png" alt=""></p>
<p>When you create the model, you'll get the following graph. </p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/pretrainedgraph.PNG" alt=""></p>
<p>Note the following:</p>
<ol>
<li>As expected, the accuracy starts close to where our first model left off, 86%.</li>
<li>Accuracy DOES continue to increase, showing that increasing the number of epochs often does increase performance.</li>
<li>The <em>rate</em> of increase in accuracy slows down, showing that more trips through the same data can't be the only way to increase performance. </li>
</ol>
<p>Let's test our new and improved model using the same image from before. At the bottom of our model page, "Test a single image." We'll test the same "2" to compare performance. As a reminder, the image path is:<br><code> /data/test_small/2/img_4415.png </code></p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/classifyoneunlabeled.png" alt=""></p>
<p>Recall that our original model correctly identified this as a 2 as well, but with a confidence of 85%. This is clearly a better model.</p>
<p>Feel free to try a few more images by changing the number after "img_ "</p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 228px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 16.6667px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Let's try testing the model with a set of images.  They are shown below.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">img</span> <span class="cm-attribute">src</span>=<span class="cm-string">"test_images/image-1-1.jpg"</span> <span class="cm-attribute">width</span>=<span class="cm-string">"64px"</span> <span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">style</span>=<span class="cm-string">"text-align:center;"</span><span class="cm-tag cm-bracket">&gt;</span>image-1-1.jpg<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">img</span> <span class="cm-attribute">src</span>=<span class="cm-string">"test_images/image-2-1.jpg"</span> <span class="cm-attribute">width</span>=<span class="cm-string">"64px"</span> <span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">style</span>=<span class="cm-string">"text-align:center;"</span><span class="cm-tag cm-bracket">&gt;</span>image-2-1.jpg<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">img</span> <span class="cm-attribute">src</span>=<span class="cm-string">"test_images/image-3-1.jpg"</span> <span class="cm-attribute">width</span>=<span class="cm-string">"64px"</span> <span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">style</span>=<span class="cm-string">"text-align:center;"</span><span class="cm-tag cm-bracket">&gt;</span>image-3-1.jpg<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">img</span> <span class="cm-attribute">src</span>=<span class="cm-string">"test_images/image-4-1.jpg"</span> <span class="cm-attribute">width</span>=<span class="cm-string">"64px"</span> <span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">style</span>=<span class="cm-string">"text-align:center;"</span><span class="cm-tag cm-bracket">&gt;</span>image-4-1.jpg<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">img</span> <span class="cm-attribute">src</span>=<span class="cm-string">"test_images/image-7-1.jpg"</span> <span class="cm-attribute">width</span>=<span class="cm-string">"64px"</span> <span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">style</span>=<span class="cm-string">"text-align:center;"</span><span class="cm-tag cm-bracket">&gt;</span>image-7-1.jpg<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">img</span> <span class="cm-attribute">src</span>=<span class="cm-string">"test_images/image-8-1.jpg"</span> <span class="cm-attribute">width</span>=<span class="cm-string">"64px"</span> <span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">style</span>=<span class="cm-string">"text-align:center;"</span><span class="cm-tag cm-bracket">&gt;</span>image-8-1.jpg<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">img</span> <span class="cm-attribute">src</span>=<span class="cm-string">"test_images/image-8-2.jpg"</span> <span class="cm-attribute">width</span>=<span class="cm-string">"64px"</span> <span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">style</span>=<span class="cm-string">"text-align:center;"</span><span class="cm-tag cm-bracket">&gt;</span>image-8-2.jpg<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">We can classify multiple files if we put them in the list. In the link below, execute the code block and a link to the file an_image.list will appear.  Right click on an_image.list and save that to a file on your local computer(right click and "Save As"). Remember the directory in which it is saved.</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 228px;"></div><div class="CodeMirror-gutters" style="display: none; height: 241px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p>Let's try testing the model with a set of images.  They are shown below.</p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/image-1-1.jpg" width="64px"> </p><div style="text-align: center">image-1-1.jpg</div>
<img src="./Image Classification with DIGITS - Improving Performance_files/image-2-1.jpg" width="64px"> <div style="text-align: center">image-2-1.jpg</div>
<img src="./Image Classification with DIGITS - Improving Performance_files/image-3-1.jpg" width="64px"> <div style="text-align: center">image-3-1.jpg</div>
<img src="./Image Classification with DIGITS - Improving Performance_files/image-4-1.jpg" width="64px"> <div style="text-align: center">image-4-1.jpg</div>
<img src="./Image Classification with DIGITS - Improving Performance_files/image-7-1.jpg" width="64px"> <div style="text-align: center">image-7-1.jpg</div>
<img src="./Image Classification with DIGITS - Improving Performance_files/image-8-1.jpg" width="64px"> <div style="text-align: center">image-8-1.jpg</div>
<img src="./Image Classification with DIGITS - Improving Performance_files/image-8-2.jpg" width="64px"> <div style="text-align: center">image-8-2.jpg</div><p></p>
<p>We can classify multiple files if we put them in the list. In the link below, execute the code block and a link to the file an_image.list will appear.  Right click on an_image.list and save that to a file on your local computer(right click and "Save As"). Remember the directory in which it is saved.</p>
</div></div></div><div class="cell code_cell unselected rendered" tabindex="2"><div class="input"><div class="prompt input_prompt"><bdi>In</bdi>&nbsp;[1]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 364.688px; margin-bottom: -17px; border-right-width: 13px; min-height: 45px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 16.6667px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword">from</span> <span class="cm-variable">IPython</span>.<span class="cm-property">display</span> <span class="cm-keyword">import</span> <span class="cm-variable">FileLink</span>, <span class="cm-variable">FileLinks</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable">FileLinks</span>(<span class="cm-string">'test_images_list'</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></div></div></div><div class="output_wrapper"><div class="out_prompt_overlay prompt" title="click to expand output; double click to hide output" style=""></div><div class="output" style=""><div class="output_area"><div class="prompt output_prompt"><bdi>Out</bdi>[1]:</div><div class="output_subarea output_html rendered_html output_result">test_images_list/<br>
&nbsp;&nbsp;<a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/test_images_list/an_image.list" target="_blank">an_image.list</a><br></div></div></div><div class="btn btn-default output_collapsed" title="click to expand output" style="display: none;">. . .</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 211px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 16.3334px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">On the right side of the DIGITS model page, there is an option to "test a list of images".  Press the button <span class="cm-strong">**Browse**</span> and select the <span class="cm-comment">`an_image.list`</span> file you just downloaded. Then press the <span class="cm-strong">**Classify Many**</span> button.  After several seconds, you will see the results from Caffe trying to classify these images with the generated model.  In the image name, the first number is the digit in the image (ex. image-3-1.jpg is a 3). Your results should be similar to this:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(images/classify-many-images-small.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">What is shown here is the probability that the model predicts the class of the image.  The results are sorted from highest probability to lowest.  Our model didn't do so well.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">While the accuracy of the model was 87%, it could not correctly classify any of the images that we tested.  What can we do to improve the classification of these images?</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 211px;"></div><div class="CodeMirror-gutters" style="display: none; height: 224px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p>On the right side of the DIGITS model page, there is an option to "test a list of images".  Press the button <strong>Browse</strong> and select the <code>an_image.list</code> file you just downloaded. Then press the <strong>Classify Many</strong> button.  After several seconds, you will see the results from Caffe trying to classify these images with the generated model.  In the image name, the first number is the digit in the image (ex. image-3-1.jpg is a 3). Your results should be similar to this:</p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/classify-many-images-small.png" alt=""></p>
<p>What is shown here is the probability that the model predicts the class of the image.  The results are sorted from highest probability to lowest.  Our model didn't do so well.</p>
<p>While the accuracy of the model was 87%, it could not correctly classify any of the images that we tested.  What can we do to improve the classification of these images?</p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 631px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 16.3334px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">At this point it's time to be a bit more intentional. After we can successfully train a model, what comes next comes from understanding and experimentation. To build a better understanding of THIS project, we should start with our data. To build a better understanding of anything, we should start with primary sources. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">The dataset that we are learning from is a subset of the <span class="cm-link">[MNIST]</span><span class="cm-string cm-url">(http://yann.lecun.com/exdb/mnist/)</span> dataset. A close read of the documentation would likely yield a lot of insight.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">One key observation we'll use is that the images start as 28x28 grayscale images. When we loaded our dataset, we stuck with defaults, which were 256x256 and color. You may have noticed that the images were a bit blurry. In the next section we'll explore the benefits that can come from matching your data to the right model. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-header cm-header-2">## The right model</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Let's start from scratch using what we've learned. This time, we'll load our data as 28x28 grayscale images and pick a model that is built to accept that type of data, LeNet. To compare to our previous model, use the total number of epochs that you trained with so far, eg. the 5 in "my first model" and the additional epochs trained from your pretrained model. In my case I'll use 8. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Here's an image of the settings that would create the dataset.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(grayscaledata.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Feel free to "explore the db" again. I notice immediately that the images are no longer blurry.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Next, create a model using the settings in the image below. Note that the LeNet model is designed to take 28x28 grayscale images. You'll see shortly that this network was actually purpose-built for digit classification. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(LeNetmodelcreate.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Woah. You should have noticed two things. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">1. Your model improved performance. Mine was accurate to more than 96%.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">2. Your model trained faster. In far less than two minutes, my model ran through 8 epochs.</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(LeNetmodeltrain.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">We haven't done anything to address the problem of more diverse data, but if we can train faster, we can experiment a lot more. </span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 631px;"></div><div class="CodeMirror-gutters" style="display: none; height: 644px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p>At this point it's time to be a bit more intentional. After we can successfully train a model, what comes next comes from understanding and experimentation. To build a better understanding of THIS project, we should start with our data. To build a better understanding of anything, we should start with primary sources. </p>
<p>The dataset that we are learning from is a subset of the <a href="http://yann.lecun.com/exdb/mnist/" target="_blank">MNIST</a> dataset. A close read of the documentation would likely yield a lot of insight.</p>
<p>One key observation we'll use is that the images start as 28x28 grayscale images. When we loaded our dataset, we stuck with defaults, which were 256x256 and color. You may have noticed that the images were a bit blurry. In the next section we'll explore the benefits that can come from matching your data to the right model. </p>
<h2 id="The-right-model">The right model<a class="anchor-link" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#The-right-model">¶</a></h2>
<p>Let's start from scratch using what we've learned. This time, we'll load our data as 28x28 grayscale images and pick a model that is built to accept that type of data, LeNet. To compare to our previous model, use the total number of epochs that you trained with so far, eg. the 5 in "my first model" and the additional epochs trained from your pretrained model. In my case I'll use 8. </p>
<p>Here's an image of the settings that would create the dataset.</p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/grayscaledata.png" alt=""></p>
<p>Feel free to "explore the db" again. I notice immediately that the images are no longer blurry.</p>
<p>Next, create a model using the settings in the image below. Note that the LeNet model is designed to take 28x28 grayscale images. You'll see shortly that this network was actually purpose-built for digit classification. </p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/LeNetmodelcreate.png" alt=""></p>
<p>Woah. You should have noticed two things. </p>
<ol>
<li>Your model improved performance. Mine was accurate to more than 96%.</li>
<li>Your model trained faster. In far less than two minutes, my model ran through 8 epochs.</li>
</ol>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/LeNetmodeltrain.png" alt=""></p>
<p>We haven't done anything to address the problem of more diverse data, but if we can train faster, we can experiment a lot more. </p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 748px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 20px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-header cm-header-2">## Train with more data</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">In our last attempt at training, we only used 10% of the full MNIST dataset.  Let's try training with the complete dataset and see how it improves our training.  We can use the clone option in DIGITS to simplify the creation of a new job with similar properties to an older job.  Let's return to the home page by clicking on <span class="cm-strong">**DIGITS**</span> in the upper left corner.  Then select <span class="cm-strong">**Dataset**</span> from the left side of the page to see all of the datasets that you have created.  You will see your <span class="cm-strong">**Mnist small**</span> dataset.  When you select that dataset, you will be returned to the results window of that job.  In the right corner you will see a button: <span class="cm-strong">**Clone Job**</span>. </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(images/digits_clone_dataset.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Press the <span class="cm-strong">**Clone Job**</span> button.<span class="cm-trailing-space-a"> </span><span class="cm-trailing-space-new-line">&nbsp;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">From here you will see the create dataset template populated with all the options you used when you created the Default Options Small Digits dataset.  To create a database with the full MNIST data, change the following settings:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">- Training Images - /data/train_full</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">- Dataset Name - MNIST full</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Then press the <span class="cm-strong">**Create**</span> button.  This dataset is ten times larger than the other dataset, so it will take a few minutes to process.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">After you have created your new database, follow the same procedure to clone your training model.  In the template, change the following values:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">- Select the MNIST full dataset</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">- Change the name to MNIST full</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Then create the model.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">With much more data, the model will take longer to run. It still should complete in less than a minute. What do you notice that is different about the results? Both the training and validation loss function values are much smaller. In addition, the accuracy of the model is around 99%, possibly greater. That is saying the model is correctly identifying most every image in its validation set. This is a significant improvement. However, how well does this new model do on the challenging test images we used previously?</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Using the same procedure from above to classify our set of test images, here are the new results:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(images/digits_classify_many_full.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">The model was still only able to classify one of the seven images.  While some of the classifications came in a close second, our model's predictive capabilities were not much greater.  Are we asking too much of this model to try and classify non-handwritten, often colored, digits with our model? </span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 748px;"></div><div class="CodeMirror-gutters" style="display: none; height: 761px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Train-with-more-data">Train with more data<a class="anchor-link" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#Train-with-more-data">¶</a></h2>
<p>In our last attempt at training, we only used 10% of the full MNIST dataset.  Let's try training with the complete dataset and see how it improves our training.  We can use the clone option in DIGITS to simplify the creation of a new job with similar properties to an older job.  Let's return to the home page by clicking on <strong>DIGITS</strong> in the upper left corner.  Then select <strong>Dataset</strong> from the left side of the page to see all of the datasets that you have created.  You will see your <strong>Mnist small</strong> dataset.  When you select that dataset, you will be returned to the results window of that job.  In the right corner you will see a button: <strong>Clone Job</strong>. </p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/digits_clone_dataset.png" alt=""></p>
<p>Press the <strong>Clone Job</strong> button.  </p>
<p>From here you will see the create dataset template populated with all the options you used when you created the Default Options Small Digits dataset.  To create a database with the full MNIST data, change the following settings:</p>
<ul>
<li>Training Images - /data/train_full</li>
<li>Dataset Name - MNIST full</li>
</ul>
<p>Then press the <strong>Create</strong> button.  This dataset is ten times larger than the other dataset, so it will take a few minutes to process.</p>
<p>After you have created your new database, follow the same procedure to clone your training model.  In the template, change the following values:</p>
<ul>
<li>Select the MNIST full dataset</li>
<li>Change the name to MNIST full</li>
</ul>
<p>Then create the model.</p>
<p>With much more data, the model will take longer to run. It still should complete in less than a minute. What do you notice that is different about the results? Both the training and validation loss function values are much smaller. In addition, the accuracy of the model is around 99%, possibly greater. That is saying the model is correctly identifying most every image in its validation set. This is a significant improvement. However, how well does this new model do on the challenging test images we used previously?</p>
<p>Using the same procedure from above to classify our set of test images, here are the new results:</p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/digits_classify_many_full.png" alt=""></p>
<p>The model was still only able to classify one of the seven images.  While some of the classifications came in a close second, our model's predictive capabilities were not much greater.  Are we asking too much of this model to try and classify non-handwritten, often colored, digits with our model? </p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 448px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 20px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-header cm-header-2">## Improving Model Results - Data Augmentation</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">You can see with our seven test images that the backgrounds are not uniform.  In addition, most of the backgrounds are light in color whereas our training data all have black backgrounds. &nbsp; We saw that increasing the amount of data did help for classifying the handwritten characters, so what if we include more data that tries to address the contrast differences?</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Let's try augmenting our data by inverting the original images.  Let's turn the white pixels to black and vice-versa.  Then we will train our network using the original and inverted images and see if classification is improved.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">To do this, follow the steps above to clone and create a new dataset and model.  The directories for the augmented data are:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">- Training Images - /data/train_invert</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Remember to change the name of your dataset and model.  When the new dataset is ready, explore the database.  Now you should see images with black backgrounds and white numbers and also white backgrounds and black numbers.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Now train a new model.  Clone your previous model results, and change the dataset to the one you just created with the inverted images.  Change the name of the model and create a new model.  When the training is complete, the accuracy hasn't really increased over the non-augmented image set.  In fact, the accuracy may have gone down slightly.  We were already at 99% so it is unlikely we were going to improve our accuracy.  Did using an augmented dataset help us to better classify our images?  Here is the result:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(images/digits_classify_many_invert.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">By augmenting our dataset with the inverted images, we could identify six of the seven images.  While our result is not perfect, our slight change to the images to increase our dataset size made a significant difference.</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 448px;"></div><div class="CodeMirror-gutters" style="display: none; height: 461px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Improving-Model-Results---Data-Augmentation">Improving Model Results - Data Augmentation<a class="anchor-link" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#Improving-Model-Results---Data-Augmentation">¶</a></h2>
<p>You can see with our seven test images that the backgrounds are not uniform.  In addition, most of the backgrounds are light in color whereas our training data all have black backgrounds.   We saw that increasing the amount of data did help for classifying the handwritten characters, so what if we include more data that tries to address the contrast differences?</p>
<p>Let's try augmenting our data by inverting the original images.  Let's turn the white pixels to black and vice-versa.  Then we will train our network using the original and inverted images and see if classification is improved.</p>
<p>To do this, follow the steps above to clone and create a new dataset and model.  The directories for the augmented data are:</p>
<ul>
<li>Training Images - /data/train_invert</li>
</ul>
<p>Remember to change the name of your dataset and model.  When the new dataset is ready, explore the database.  Now you should see images with black backgrounds and white numbers and also white backgrounds and black numbers.</p>
<p>Now train a new model.  Clone your previous model results, and change the dataset to the one you just created with the inverted images.  Change the name of the model and create a new model.  When the training is complete, the accuracy hasn't really increased over the non-augmented image set.  In fact, the accuracy may have gone down slightly.  We were already at 99% so it is unlikely we were going to improve our accuracy.  Did using an augmented dataset help us to better classify our images?  Here is the result:</p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/digits_classify_many_invert.png" alt=""></p>
<p>By augmenting our dataset with the inverted images, we could identify six of the seven images.  While our result is not perfect, our slight change to the images to increase our dataset size made a significant difference.</p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 1165px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 20px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-header cm-header-2">## Advanced - Improving Model Results by Modifying the Network (Optional)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Augmenting the dataset improved our results, but we are not identifying all our test images. Let's try modifying the LeNet network directly. You can create custom networks to modify the existing ones, use different networks from external sources, or create your own. To modify a network, select the Customize link on the right side of the Network dialog box.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(images/network-dialog.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">This will open an editor with the LeNet model configuration.  Scroll through the window and look at the code.  The network is defined as a series of layers.  Each layer has a name that is a descriptor of its function.  Each layer has a top and a bottom, or possibly multiples of each, indicating how the layers are connected.  The <span class="cm-em">*type*</span> variable defined what type the layer is.  Possibilities include <span class="cm-strong">**Convolution**</span>, <span class="cm-strong">**Pool**</span>, and <span class="cm-strong">**ReLU**</span>.  All the options available in the Caffe model language are found in the <span class="cm-link">[Caffe Tutorial]</span><span class="cm-string cm-url">(http://caffe.berkeleyvision.org/tutorial/)</span>.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">At the top of the editor, there is a <span class="cm-strong">**Visualize**</span> button.  Pressing this button will visualize all of the layers of the model and how they are connected.  In this window, you can see that the data are initially scaled, there are two sets of Convolution and Pooling layers, and two Inner Products with a Rectilinear Unit (ReLU) connected to the first Inner Product.  At the bottom of the network, there are output functions that return the accuracy and loss computed through the network.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">We are going to make two changes to the network.  First, we are going to connect a ReLU to the first pool.  Second, we are going to change the values of num_output to 75 for the first Convolution (conv1) and 100 for the second Convolution (conv2).  The ReLU layer definition should go below the pool1 definition and look like:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">code</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">layer {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  name: "reluP1"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  type: "ReLU"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  bottom: "pool1"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  top: "pool1"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">code</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">The Convolution layers should be changed to look like:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">code</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">layer {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  name: "conv1"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  type: "Convolution"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  bottom: "scaled"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  top: "conv1"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">...</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  convolution_param {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  num_output: **75**</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">...</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">code</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">code</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">layer {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  name: "conv2"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  type: "Convolution"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  bottom: "pool1"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  top: "conv2"</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">...</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  convolution_param {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  num_output: **100**</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">...</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">code</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Note, the ellipis (...) just indicates we removed some of the lines from the layer for brevity.  The only change you have to make is to the value of num_output.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">After making these changes, visualize your new model.  You should see the ReLU unit appear similar to:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(images/add-relu.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Now change the name of the model and press the <span class="cm-strong">**Create**</span> button.  When it is complete test the data again.  The results should be similar to:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-image cm-image-marker">!</span><span class="cm-image cm-image-alt-text cm-link">[]</span><span class="cm-string cm-url">(images/classify-invert-relu.png)</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Were you able to correctly identify them all? If not, why do you think the results were different?</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 1165px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1178px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Advanced---Improving-Model-Results-by-Modifying-the-Network-(Optional)">Advanced - Improving Model Results by Modifying the Network (Optional)<a class="anchor-link" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#Advanced---Improving-Model-Results-by-Modifying-the-Network-(Optional)">¶</a></h2>
<p>Augmenting the dataset improved our results, but we are not identifying all our test images. Let's try modifying the LeNet network directly. You can create custom networks to modify the existing ones, use different networks from external sources, or create your own. To modify a network, select the Customize link on the right side of the Network dialog box.</p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/network-dialog.png" alt=""></p>
<p>This will open an editor with the LeNet model configuration.  Scroll through the window and look at the code.  The network is defined as a series of layers.  Each layer has a name that is a descriptor of its function.  Each layer has a top and a bottom, or possibly multiples of each, indicating how the layers are connected.  The <em>type</em> variable defined what type the layer is.  Possibilities include <strong>Convolution</strong>, <strong>Pool</strong>, and <strong>ReLU</strong>.  All the options available in the Caffe model language are found in the <a href="http://caffe.berkeleyvision.org/tutorial/" target="_blank">Caffe Tutorial</a>.</p>
<p>At the top of the editor, there is a <strong>Visualize</strong> button.  Pressing this button will visualize all of the layers of the model and how they are connected.  In this window, you can see that the data are initially scaled, there are two sets of Convolution and Pooling layers, and two Inner Products with a Rectilinear Unit (ReLU) connected to the first Inner Product.  At the bottom of the network, there are output functions that return the accuracy and loss computed through the network.</p>
<p>We are going to make two changes to the network.  First, we are going to connect a ReLU to the first pool.  Second, we are going to change the values of num_output to 75 for the first Convolution (conv1) and 100 for the second Convolution (conv2).  The ReLU layer definition should go below the pool1 definition and look like:</p>
<p><code>
layer {
  name: "reluP1"
  type: "ReLU"
  bottom: "pool1"
  top: "pool1"
}
</code></p>
<p>The Convolution layers should be changed to look like:</p>
<p><code>
layer {
  name: "conv1"
  type: "Convolution"
  bottom: "scaled"
  top: "conv1"
...
  convolution_param {
    num_output: <strong>75</strong>
...
</code>
<code>
layer {
  name: "conv2"
  type: "Convolution"
  bottom: "pool1"
  top: "conv2"
...
  convolution_param {
    num_output: <strong>100</strong>
...
</code>
Note, the ellipis (...) just indicates we removed some of the lines from the layer for brevity.  The only change you have to make is to the value of num_output.</p>
<p>After making these changes, visualize your new model.  You should see the ReLU unit appear similar to:</p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/add-relu.png" alt=""></p>
<p>Now change the name of the model and press the <strong>Create</strong> button.  When it is complete test the data again.  The results should be similar to:</p>
<p><img src="./Image Classification with DIGITS - Improving Performance_files/classify-invert-relu.png" alt=""></p>
<p>Were you able to correctly identify them all? If not, why do you think the results were different?</p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 131px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 20px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-header cm-header-2">## Next Steps</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">In our example here, we were able to identify most of our test images successfully.  However, that is generally not the case. &nbsp; How would go about improving our model further?  Typically, hyper-parameter searches are done to try different values of model parameters such as learning-rate or different solvers to find settings that improve model accuracy.  We could change the model to add layers or change some of the parameters within the model associated with the performance of the convolution and pooling layers.  In addition, we could try other networks.</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 131px;"></div><div class="CodeMirror-gutters" style="display: none; height: 144px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Next-Steps">Next Steps<a class="anchor-link" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#Next-Steps">¶</a></h2>
<p>In our example here, we were able to identify most of our test images successfully.  However, that is generally not the case.   How would go about improving our model further?  Typically, hyper-parameter searches are done to try different values of model parameters such as learning-rate or different solvers to find settings that improve model accuracy.  We could change the model to add layers or change some of the parameters within the model associated with the performance of the convolution and pooling layers.  In addition, we could try other networks.</p>
</div></div></div><div class="cell text_cell rendered selected" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 281px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 20px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-header cm-header-2">## Summary</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">In this tutorial you were introduced to Deep Learning and all of the steps necessary to classify images including data processing, training, testing, and improving your network through data augmentation and network modifications.  In the training phase, you learned about the parameters that can determine the performance of training a network. By training a subset of the MNIST data, a full set, different models, augemented data, etc. you saw the types of options you have to control performance. In testing our model, we found that although the test images were quite different than the training data, we could still correctly classify them.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">Now that you have a basic understanding of Deep Learning and how to train using DIGITS, what you do next is limited only by your own imagination.  Test what you have learned, there are several good datasets with which to practice.  We have included the <span class="cm-link">[CalTech 101]</span><span class="cm-string cm-url">(http://www.vision.caltech.edu/Image_Datasets/Caltech101/)</span> dataset at <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">pre</span><span class="cm-tag cm-bracket">&gt;</span>/data/101_ObjectCategories<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">pre</span><span class="cm-tag cm-bracket">&gt;</span> Feel free to run any part of this lab again with that (more complex) dataset.</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">There is still much more to learn! Start a Deep Learning project or take another course. The Nvidia Deep Learning Institute has a comprehensive library of hands-on labs for both fundamental and advanced topics.</span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 281px;"></div><div class="CodeMirror-gutters" style="display: none; height: 294px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Summary">Summary<a class="anchor-link" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#Summary">¶</a></h2>
<p>In this tutorial you were introduced to Deep Learning and all of the steps necessary to classify images including data processing, training, testing, and improving your network through data augmentation and network modifications.  In the training phase, you learned about the parameters that can determine the performance of training a network. By training a subset of the MNIST data, a full set, different models, augemented data, etc. you saw the types of options you have to control performance. In testing our model, we found that although the test images were quite different than the training data, we could still correctly classify them.</p>
<p>Now that you have a basic understanding of Deep Learning and how to train using DIGITS, what you do next is limited only by your own imagination.  Test what you have learned, there are several good datasets with which to practice.  We have included the <a href="http://www.vision.caltech.edu/Image_Datasets/Caltech101/" target="_blank">CalTech 101</a> dataset at </p><pre>/data/101_ObjectCategories</pre> Feel free to run any part of this lab again with that (more complex) dataset.<p></p>
<p>There is still much more to learn! Start a Deep Learning project or take another course. The Nvidia Deep Learning Institute has a comprehensive library of hands-on labs for both fundamental and advanced topics.</p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 45px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 16.3333px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">href</span>=<span class="cm-string">"</span><span class="cm-string cm-link">https://www.nvidia.com/en-us/deep-learning-ai/education/</span><span class="cm-string">"</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">img</span> <span class="cm-attribute">src</span>=<span class="cm-string">"files/DLI Header.png"</span> <span class="cm-attribute">alt</span>=<span class="cm-string">"Header"</span> <span class="cm-attribute">style</span>=<span class="cm-string">"width: 400px;"</span><span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 58px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p><a href="https://www.nvidia.com/en-us/deep-learning-ai/education/" target="_blank"> <img src="./Image Classification with DIGITS - Improving Performance_files/DLI Header.png" alt="Header" style="width: 400px"> </a></p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59375px; left: 5.59375px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -17px; border-right-width: 13px; min-height: 133px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 21.3333px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-header cm-header-1"># Appendix</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">For a high performing and generalizable model:</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">1. Load the dataset stored at </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">pre</span><span class="cm-tag cm-bracket">&gt;</span>/data/train_invert<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">pre</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-variable-2"> as 28x28 grayscale images. </span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable-2">2. Train a model using the LeNet network for 5 epochs.</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 133px;"></div><div class="CodeMirror-gutters" style="display: none; height: 146px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h1 id="Appendix">Appendix<a class="anchor-link" href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#Appendix">¶</a></h1>
<p>For a high performing and generalizable model:</p>
<ol>
<li><p>Load the dataset stored at </p><pre>/data/train_invert</pre> as 28x28 grayscale images. <p></p>
</li>
<li><p>Train a model using the LeNet network for 5 epochs.</p>
</li>
</ol>
</div></div></div></div><div class="end_space"></div></div>
        <div id="tooltip" class="ipython_tooltip" style="display:none"><div class="tooltipbuttons"><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#" role="button" class="ui-button"><span class="ui-icon ui-icon-close">Close</span></a><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#" class="ui-corner-all" role="button" id="expanbutton" title="Grow the tooltip vertically (press shift-tab twice)"><span class="ui-icon ui-icon-plus">Expand</span></a><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#" role="button" class="ui-button" title="show the current docstring in pager (press shift-tab 4 times)"><span class="ui-icon ui-icon-arrowstop-l-n">Open in Pager</span></a><a href="http://ec2-18-195-62-179.eu-central-1.compute.amazonaws.com/TFhX2qPWC5/notebooks/Image%20Classification%20with%20DIGITS%20-%20Improving%20Performance.ipynb#" role="button" class="ui-button" title="Tooltip will linger for 10 seconds while you type" style="display: none;"><span class="ui-icon ui-icon-clock">Close</span></a></div><div class="pretooltiparrow"></div><div class="tooltiptext smalltooltip"></div></div>
    </div>
</div>



</div>



<div id="pager" class="ui-resizable">
    <div id="pager-contents">
        <div id="pager-container" class="container"></div>
    </div>
    <div id="pager-button-area"><a role="button" title="Open the pager in an external window" class="ui-button"><span class="ui-icon ui-icon-extlink"></span></a><a role="button" title="Close the pager" class="ui-button"><span class="ui-icon ui-icon-close"></span></a></div>
<div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div></div>






<script type="text/javascript">
    sys_info = {"os_name": "posix", "platform": "Linux-3.13.0-46-generic-x86_64-with-Ubuntu-14.04-trusty", "default_encoding": "ANSI_X3.4-1968", "notebook_path": "/usr/local/lib/python2.7/dist-packages/notebook", "sys_platform": "linux2", "sys_version": "2.7.6 (default, Oct 26 2016, 20:30:19) \n[GCC 4.8.4]", "notebook_version": "5.0.0", "commit_source": "", "commit_hash": "", "sys_executable": "/usr/bin/python"};
</script>

<script src="./Image Classification with DIGITS - Improving Performance_files/encoding.js.download" charset="utf-8"></script>

<script src="./Image Classification with DIGITS - Improving Performance_files/main.min.js.download" type="text/javascript" charset="utf-8"></script>



<script type="text/javascript">
  function _remove_token_from_url() {
    if (window.location.search.length <= 1) {
      return;
    }
    var search_parameters = window.location.search.slice(1).split('&');
    for (var i = 0; i < search_parameters.length; i++) {
      if (search_parameters[i].split('=')[0] === 'token') {
        // remote token from search parameters
        search_parameters.splice(i, 1);
        var new_search = '';
        if (search_parameters.length) {
          new_search = '?' + search_parameters.join('&');
        }
        var new_url = window.location.origin + 
                      window.location.pathname + 
                      new_search + 
                      window.location.hash;
        window.history.replaceState({}, "", new_url);
        return;
      }
    }
  }
  _remove_token_from_url();
</script>


<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal;"></div></div></body></html>